<?php
/**
 * Vue en Ã©dition presentant les predicats dans une datagrid.
 * @author valentin.claras
 * @author bertrand.ferry
 * @package Keyword
 */

use Keyword\Domain\PredicateCriteria;
use UI\Datagrid\Datagrid;
use UI\Datagrid\Column\TextColumn;
use UI\Datagrid\Column\LongTextColumn;
?>
<div class="page-header">
	<h1><?=__('Keyword', 'name', 'predicates')?></h1>
</div>
<?php
    $datagrid = new Datagrid('predicates', 'datagrid_predicate', 'keyword');
    $datagrid->criteriaName = '\Keyword\Domain\PredicateCriteria';

    $columnLabel = new TextColumn('label', __('Keyword', 'predicate', 'directPredicateLabelHeader'));
    $columnLabel->criteriaFilterAttribute = PredicateCriteria::QUERY_LABEL;
    $columnLabel->criteriaOrderAttribute = PredicateCriteria::QUERY_LABEL;
    $columnLabel->editable = true;

    $columnRef = new TextColumn('ref', __('Keyword', 'predicate', 'directPredicateIdentifierHeader'));
    $columnRef->criteriaFilterAttribute = PredicateCriteria::QUERY_REF;
    $columnRef->criteriaOrderAttribute = PredicateCriteria::QUERY_REF;
    $columnRef->editable = true;

    $columnReverseLabel = new TextColumn('reverseLabel', __('Keyword', 'predicate', 'reversePredicateLabelHeader'));
    $columnReverseLabel->criteriaFilterAttribute = PredicateCriteria::QUERY_REVERSE_LABEL;
    $columnReverseLabel->criteriaOrderAttribute = PredicateCriteria::QUERY_REVERSE_LABEL;
    $columnReverseLabel->editable = true;

    $columnReverseRef = new TextColumn('reverseRef', __('Keyword', 'predicate', 'reversePredicateIdentifierHeader'));
    $columnReverseRef->criteriaFilterAttribute = PredicateCriteria::QUERY_REVERSE_REF;
    $columnReverseRef->criteriaOrderAttribute = PredicateCriteria::QUERY_REVERSE_REF;
    $columnReverseRef->editable = true;

    $columnDescription = new LongTextColumn('description', __('UI', 'name', 'description'));
    $columnDescription->popup->title = __('UI', 'name', 'description');
    $columnDescription->defaultValue = '<i class="icon-zoom-in"></i> ' . __('UI', 'name', 'description');
    $columnDescription->editable = true;

    $datagrid->addCol($columnLabel);
    $datagrid->addCol($columnRef);
    $datagrid->addCol($columnReverseLabel);
    $datagrid->addCol($columnReverseRef);
    $datagrid->addCol($columnDescription);

    $datagrid->setDefaultSorting('label');
    $datagrid->deleteElements = true;
    $datagrid->addElements = true;
    $datagrid->addPanelTitle = __('Keyword', 'predicate', 'addPanelTitle');
    $datagrid->display();

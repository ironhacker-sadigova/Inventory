Social_Model_Message:
  type: entity
  repositoryClass: Core_Model_Repository
  table: Social_Message

  fields:
    title:
      type: string
      nullable: true
    sent:
      type: boolean
      nullable: false

  manyToMany:
    userRecipients:
      targetEntity: User_Model_User
      joinTable:
        name: Social_Message_User_Recipients
        joinColumns:
          idMessage:
            referencedColumnName: id
        inverseJoinColumns:
          idUser:
            referencedColumnName: id
    groupRecipients:
      targetEntity: Social_Model_UserGroup
      joinTable:
        name: Social_Message_Group_Recipients
        joinColumns:
          idMessage:
            referencedColumnName: id
        inverseJoinColumns:
          idGroup:
            referencedColumnName: id

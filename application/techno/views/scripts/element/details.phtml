<?php
/**
 * @author matthieu.napoli
 * @package Techno
 */

/** @var $element Techno_Model_Element_Coeff|Techno_Model_Element_Process */
$element = $this->element;

if ($element instanceof Techno_Model_Element_Process) {
    $title = __('Techno', 'name', 'emissionFactor');
} else {
    $title = __('Techno', 'name', 'coefficient');
}
?>

<script type="text/javascript">
    $('#element_edit').children('div.modal-header').children('h3').html('<?=$title?>');
</script>

<?php
$editForm = new UI_Form('element_editForm');
$editForm->setAction('techno/element/edit-submit');
$editForm->setAjax(true, 'elementEditSuccess');

// UnitÃ©
$unitField = new UI_Form_Element_Text('unit');
$unitField->setLabel(__('Unit', 'name', 'unit'));
$unitField->setValue($element->getUnit()->getRef());
$editForm->addElement($unitField);

// Valeur
$digitalValueField = new UI_Form_Element_Text('digitalValue');
$digitalValueField->setLabel(__('UI', 'name', 'value'));
$digitalValueField->setValue($element->getValue()->getDigitalValue());
$editForm->addElement($digitalValueField);

// Incertitude
$uncertaintyField = new UI_Form_Element_Text('uncertainty');
$uncertaintyField->setLabel(__('UI', 'name', 'uncertainty'));
$uncertaintyField->setValue($element->getValue()->getRelativeUncertainty());
$editForm->addElement($uncertaintyField);

// Documentation
$documentationField = new UI_Form_Element_Textarea('documentation');
$documentationField->setLabel(__('UI', 'name', 'documentation'));
$documentationField->setValue($element->getDocumentation());
$documentationField->setAttrib('rows', 7);
$editForm->addElement($documentationField);

// Valeur
$elementIdField = new UI_Form_Element_Hidden('id');
$elementIdField->setValue($element->getId());
$editForm->addElement($elementIdField);
echo $editForm->render();

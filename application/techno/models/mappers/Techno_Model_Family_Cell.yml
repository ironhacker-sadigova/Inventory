Techno_Model_Family_Cell:
  type: entity
  repositoryClass: Core_Model_Repository
  table: Techno_Family_Cell

  id:
    id:
      type: integer
      generator:
        strategy: AUTO

  fields:
    membersHashKey:
      type: string
      nullable: false

  manyToOne:
    family:
      targetEntity: Techno_Model_Family
      inversedBy: cells
      joinColumn:
        name: idFamily
        referencedColumnName: id
        nullable: false
    chosenElement:
      targetEntity: Techno_Model_Element
      joinColumn:
        name: idChosenElement
        referencedColumnName: id
        nullable: true
      cascade: [ all ]

  manyToMany:
    members:
      targetEntity: Techno_Model_Family_Member
      inversedBy: cells
      joinTable:
        name: Techno_Family_Cell_Members
        joinColumns:
          idCell:
            referencedColumnName: id
            onDelete: NULL
        inverseJoinColumns:
          idMember:
            referencedColumnName: id

  uniqueConstraints:
    coordinates:
      columns: [idFamily, membersHashKey]
